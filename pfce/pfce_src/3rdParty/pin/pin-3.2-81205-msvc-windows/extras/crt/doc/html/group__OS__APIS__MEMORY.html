<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PinCRT: Memory</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<h1>Memory</h1>Contains memory related os apis.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__MEMORY__AT__ADDR__INFORMATION.html">OS_MEMORY_AT_ADDR_INFORMATION</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#g8b1f83ef2e6ff5fd685c9beb6249fbec">OS_PAGE_PROTECTION_TYPE</a> { <br>
&nbsp;&nbsp;<b>OS_PAGE_PROTECTION_TYPE_NOACCESS</b> =  0, 
<br>
&nbsp;&nbsp;<b>OS_PAGE_PROTECTION_TYPE_READ</b> =  (1&lt;&lt;0), 
<br>
&nbsp;&nbsp;<b>OS_PAGE_PROTECTION_TYPE_WRITE</b> =  (1&lt;&lt;1), 
<br>
&nbsp;&nbsp;<b>OS_PAGE_PROTECTION_TYPE_EXECUTE</b> =  (1&lt;&lt;2), 
<br>
&nbsp;&nbsp;<b>OS_PAGE_PROTECTION_TYPE_GUARD</b> =  (1&lt;&lt;3)
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#gc040a9da8f2a5ffbefe23e96a14b97f3">OS_MEMORY_FLAGS</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__OS__APIS__MEMORY.html#ggc040a9da8f2a5ffbefe23e96a14b97f3e03e654a5ec0b7b46ce676a877ae9a58">OS_MEMORY_FLAGS_PRIVATE</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="group__OS__APIS__MEMORY.html#ggc040a9da8f2a5ffbefe23e96a14b97f3e650122f14758006ab0d3566e3b50eb6">OS_MEMORY_FLAGS_FIXED_ADDRESS</a> =  (1&lt;&lt;0), 
<br>
&nbsp;&nbsp;<a class="el" href="group__OS__APIS__MEMORY.html#ggc040a9da8f2a5ffbefe23e96a14b97f3911ef878523ce89b1ff21f883b66a251">OS_MEMORY_FLAGS_STACK</a> =  (1&lt;&lt;1), 
<br>
&nbsp;&nbsp;<a class="el" href="group__OS__APIS__MEMORY.html#ggc040a9da8f2a5ffbefe23e96a14b97f394c6b592e34b15103e0b48f4563d89c7">OS_MEMORY_FLAGS_SHARED</a> =  (1&lt;&lt;3)
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#g292fe0be7839ed9cc970254d288bb199">OS_AllocateMemory</a> (<a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a> processId, UINT protectionType, USIZE size, <a class="el" href="group__OS__APIS__MEMORY.html#gc040a9da8f2a5ffbefe23e96a14b97f3">OS_MEMORY_FLAGS</a> flags, VOID **base)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#g8e79ecf1778b1d8e8488f15a28b1caea">OS_MapFileToMemory</a> (<a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a> processId, UINT protectionType, USIZE size, <a class="el" href="group__OS__APIS__MEMORY.html#gc040a9da8f2a5ffbefe23e96a14b97f3">OS_MEMORY_FLAGS</a> flags, <a class="el" href="group__OS__APIS__TYPES.html#geb77513b3223d163064c7b1f5e38e8c3">NATIVE_FD</a> fd, UINT64 offset, VOID **base)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#ga54a94130bdeef23bf5e9b4666e6c430">OS_FreeMemory</a> (<a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a> processId, VOID *base, USIZE size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#ga76c49aabf3c8fdbfca2bf7a1d52a15e">OS_GetPageSize</a> (USIZE *size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#g66948315f215e7db3099719f7c81df3d">OS_QueryMemory</a> (<a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a> processId, VOID *memoryAddr, <a class="el" href="structOS__MEMORY__AT__ADDR__INFORMATION.html">OS_MEMORY_AT_ADDR_INFORMATION</a> *info)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OS__APIS__MEMORY.html#g735acbcf7139e9d3a45988005a98854d">OS_ProtectMemory</a> (<a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a> processId, VOID *base, USIZE size, UINT newProtectionType)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="gc040a9da8f2a5ffbefe23e96a14b97f3"></a><!-- doxytag: member="memory.h::OS_MEMORY_FLAGS" ref="gc040a9da8f2a5ffbefe23e96a14b97f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__OS__APIS__MEMORY.html#gc040a9da8f2a5ffbefe23e96a14b97f3">OS_MEMORY_FLAGS</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flags for memory mapping. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ggc040a9da8f2a5ffbefe23e96a14b97f3e03e654a5ec0b7b46ce676a877ae9a58"></a><!-- doxytag: member="OS_MEMORY_FLAGS_PRIVATE" ref="ggc040a9da8f2a5ffbefe23e96a14b97f3e03e654a5ec0b7b46ce676a877ae9a58" args="" -->OS_MEMORY_FLAGS_PRIVATE</em>&nbsp;</td><td>
The memory should be private to the process. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggc040a9da8f2a5ffbefe23e96a14b97f3e650122f14758006ab0d3566e3b50eb6"></a><!-- doxytag: member="OS_MEMORY_FLAGS_FIXED_ADDRESS" ref="ggc040a9da8f2a5ffbefe23e96a14b97f3e650122f14758006ab0d3566e3b50eb6" args="" -->OS_MEMORY_FLAGS_FIXED_ADDRESS</em>&nbsp;</td><td>
The memory should be mapped exactly at the specified address. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggc040a9da8f2a5ffbefe23e96a14b97f3911ef878523ce89b1ff21f883b66a251"></a><!-- doxytag: member="OS_MEMORY_FLAGS_STACK" ref="ggc040a9da8f2a5ffbefe23e96a14b97f3911ef878523ce89b1ff21f883b66a251" args="" -->OS_MEMORY_FLAGS_STACK</em>&nbsp;</td><td>
The memory should be mapped as stack (grows down). </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggc040a9da8f2a5ffbefe23e96a14b97f394c6b592e34b15103e0b48f4563d89c7"></a><!-- doxytag: member="OS_MEMORY_FLAGS_SHARED" ref="ggc040a9da8f2a5ffbefe23e96a14b97f394c6b592e34b15103e0b48f4563d89c7" args="" -->OS_MEMORY_FLAGS_SHARED</em>&nbsp;</td><td>
The memory might be shared among processes. </td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="g8b1f83ef2e6ff5fd685c9beb6249fbec"></a><!-- doxytag: member="memory.h::OS_PAGE_PROTECTION_TYPE" ref="g8b1f83ef2e6ff5fd685c9beb6249fbec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__OS__APIS__MEMORY.html#g8b1f83ef2e6ff5fd685c9beb6249fbec">OS_PAGE_PROTECTION_TYPE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Page protection types 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g292fe0be7839ed9cc970254d288bb199"></a><!-- doxytag: member="memory.h::OS_AllocateMemory" ref="g292fe0be7839ed9cc970254d288bb199" args="(NATIVE_PID processId, UINT protectionType, USIZE size, OS_MEMORY_FLAGS flags, VOID **base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a> OS_AllocateMemory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a>&nbsp;</td>
          <td class="paramname"> <em>processId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&nbsp;</td>
          <td class="paramname"> <em>protectionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__MEMORY.html#gc040a9da8f2a5ffbefe23e96a14b97f3">OS_MEMORY_FLAGS</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID **&nbsp;</td>
          <td class="paramname"> <em>base</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocates <b>size</b> bytes of memory in the process identified by <b>processId</b> with <a class="el" href="group__OS__APIS__MEMORY.html#g8b1f83ef2e6ff5fd685c9beb6249fbec"><b>protectionType</b> protection</a>.<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>If <b>base</b> is not null, will try to allocate at that address, otherwise will fail!</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>processId</em>&nbsp;</td><td>PID of the target process </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>protectionType</em>&nbsp;</td><td>or'ed <a class="el" href="group__OS__APIS__MEMORY.html#g8b1f83ef2e6ff5fd685c9beb6249fbec">protection options</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>Size of memory to allocate </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flags</em>&nbsp;</td><td>Properties of the region to allocate. This is a bitwise OR of the enum values in OS_MEMORY_FLAGS. </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>base</em>&nbsp;</td><td>in: Target memory address<br>
 out: Where the memory was allocated</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_NO_ERROR</em>&nbsp;</td><td>If the operation succeeded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_MEMORY_MAP_FAILED</em>&nbsp;</td><td>If the operation Failed</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd><b>Unix:</b> <br>
 The processId is irrelevant as it is only applicable on the current process.<br>
 On Unix system, memory can only be allocated for the calling process.<br>
 The given pid is expected to be that of the current process. Hence the behavior of this function in case 'processId' is not of the current process is not defined. <b>Windows:</b> <br>
 Windows supports memory allocation on a different process on a single syscall.</dd></dl>
<dl class="user" compact><dt><b>Availability:</b></dt><dd><b>O/S</b>: Windows, Linux &amp; OS X*<br>
 <b>CPU:</b> All<br>
 </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga54a94130bdeef23bf5e9b4666e6c430"></a><!-- doxytag: member="memory.h::OS_FreeMemory" ref="ga54a94130bdeef23bf5e9b4666e6c430" args="(NATIVE_PID processId, VOID *base, USIZE size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a> OS_FreeMemory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a>&nbsp;</td>
          <td class="paramname"> <em>processId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free's <b>size</b> bytes of memory at <b>base</b> address in the process identified by <b>processId</b>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>processId</em>&nbsp;</td><td>PID of the target process </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>base</em>&nbsp;</td><td>Target memory address </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>Size in bytes of memory to free</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_NO_ERROR</em>&nbsp;</td><td>If the operation succeeded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_MEMORY_FREE_FAILED</em>&nbsp;</td><td>If the operation failed</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd><b>Unix:</b> <br>
 The processId is irrelevant as it is only applicable on the current process. <br>
 On Unix system, memory can only be released in the current process.<br>
 The given pid is expected to be that of the current process. Hence the behavior of this function in case 'processId' is not of the current process is not defined. <b>Windows:</b> <br>
 Windows supports memory deallocation on a different process.</dd></dl>
<dl class="user" compact><dt><b>Availability:</b></dt><dd><b>O/S</b>: Windows, Linux &amp; OS X* <br>
 <b>CPU:</b> All <br>
 </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga76c49aabf3c8fdbfca2bf7a1d52a15e"></a><!-- doxytag: member="memory.h::OS_GetPageSize" ref="ga76c49aabf3c8fdbfca2bf7a1d52a15e" args="(USIZE *size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a> OS_GetPageSize           </td>
          <td>(</td>
          <td class="paramtype">USIZE *&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Query the system page size.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>System page size</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_NO_ERROR</em>&nbsp;</td><td>If the operation succeeded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_QUERY_FAILED</em>&nbsp;</td><td>If the operation failed</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>Availability:</b></dt><dd><b>O/S</b>: Windows, Linux &amp; OS X* <br>
 <b>CPU:</b> All <br>
 </dd></dl>

</div>
</div><p>
<a class="anchor" name="g8e79ecf1778b1d8e8488f15a28b1caea"></a><!-- doxytag: member="memory.h::OS_MapFileToMemory" ref="g8e79ecf1778b1d8e8488f15a28b1caea" args="(NATIVE_PID processId, UINT protectionType, USIZE size, OS_MEMORY_FLAGS flags, NATIVE_FD fd, UINT64 offset, VOID **base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a> OS_MapFileToMemory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a>&nbsp;</td>
          <td class="paramname"> <em>processId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&nbsp;</td>
          <td class="paramname"> <em>protectionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__MEMORY.html#gc040a9da8f2a5ffbefe23e96a14b97f3">OS_MEMORY_FLAGS</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__TYPES.html#geb77513b3223d163064c7b1f5e38e8c3">NATIVE_FD</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT64&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID **&nbsp;</td>
          <td class="paramname"> <em>base</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maps a file into memory, similar to mmap (see man page of mmap(2)).<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>If <b>base</b> is not null, will try to allocate at that address, otherwise will fail!</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>processId</em>&nbsp;</td><td>PID of the target process </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>protectionType</em>&nbsp;</td><td>or'ed <a class="el" href="group__OS__APIS__MEMORY.html#g8b1f83ef2e6ff5fd685c9beb6249fbec">protection options</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>Size in bytes of memory to allocate </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flags</em>&nbsp;</td><td>Properties of the region to allocate. This is a bitwise OR of the enum values in OS_MEMORY_FLAGS. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fd</em>&nbsp;</td><td>File descriptor of the file that we want to map to memory. This argument can be INVALID_NATIVE_FD if one wants to map an anonymous file. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>offset</em>&nbsp;</td><td>Bytes offset in the file to start mapping from. </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>base</em>&nbsp;</td><td>in: Target memory address<br>
 out: Where the memory was allocated</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_NO_ERROR</em>&nbsp;</td><td>If the operation succeeded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_MEMORY_MAP_FAILED</em>&nbsp;</td><td>If the operation Failed</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd><b>Unix:</b> <br>
 The processId is irrelevant as it is only applicable on the current process.<br>
 On Unix system, files can be mapped only in the calling process memory space.<br>
 The given pid is expected to be that of the current process.<br>
 Hence the behavior of this function in case 'processId' is not of the current process is not defined. <b>Windows:</b> <br>
 Windows supports file mapping on a different process memory space.</dd></dl>
<dl class="user" compact><dt><b>Availability:</b></dt><dd><b>O/S</b>: Windows, Linux &amp; OS X*<br>
 <b>CPU:</b> All<br>
 </dd></dl>

</div>
</div><p>
<a class="anchor" name="g735acbcf7139e9d3a45988005a98854d"></a><!-- doxytag: member="memory.h::OS_ProtectMemory" ref="g735acbcf7139e9d3a45988005a98854d" args="(NATIVE_PID processId, VOID *base, USIZE size, UINT newProtectionType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a> OS_ProtectMemory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a>&nbsp;</td>
          <td class="paramname"> <em>processId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&nbsp;</td>
          <td class="paramname"> <em>newProtectionType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes protection for the target process's memory page(s) containing any part of the address range in the interval [base, base+size-1]. base must be aligned to a page boundary.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>processId</em>&nbsp;</td><td>PID of the target process </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>base</em>&nbsp;</td><td>The address of the starting page - must be page aligned. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>Size in bytes of the region to change protection - must be multiple of page size. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>newProtectionType</em>&nbsp;</td><td>The new protection mode</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_NO_ERROR</em>&nbsp;</td><td>If the operation succeeded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_MEMORY_PROTECT_FAILED</em>&nbsp;</td><td>If the operation failed</td></tr>
  </table>
</dl>
<b>Unix:</b> <br>
 The processId is irrelevant as it is only applicable on the current process. <br>
 On Unix system, memory protection can only be changed for the current process' memory space.<br>
 The given pid is expected to be that of the current process. Hence the behavior of this function in case 'processId' is not of the current process is not defined. <b>Windows:</b> <br>
 Windows supports memory protection change on a different process memory space.<p>
<dl class="user" compact><dt><b>Availability:</b></dt><dd><ul>
<li><b>O/S</b>: Windows, Linux &amp; OS X*</li><li><b>CPU:</b> All </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g66948315f215e7db3099719f7c81df3d"></a><!-- doxytag: member="memory.h::OS_QueryMemory" ref="g66948315f215e7db3099719f7c81df3d" args="(NATIVE_PID processId, VOID *memoryAddr, OS_MEMORY_AT_ADDR_INFORMATION *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__OS__RETURN__CODE.html">OS_RETURN_CODE</a> OS_QueryMemory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__OS__APIS__TYPES.html#gd0187e2862354802203546f2d9167ce6">NATIVE_PID</a>&nbsp;</td>
          <td class="paramname"> <em>processId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&nbsp;</td>
          <td class="paramname"> <em>memoryAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOS__MEMORY__AT__ADDR__INFORMATION.html">OS_MEMORY_AT_ADDR_INFORMATION</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieves the information on the memory block containing <b>memoryAddr</b>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>processId</em>&nbsp;</td><td>PID of the target process </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>memoryAddr</em>&nbsp;</td><td>Target memory address. This memory address can reside inside the page. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>info</em>&nbsp;</td><td>The address information On Unix, if there is no mapped memory block that contains <b>memoryAddr</b> the next mapped memory block will be returned. If no such mapped memory block exists, an empty memory block will be returned On Windows, we return the containing memory block regardless if it is mapped or not.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_NO_ERROR</em>&nbsp;</td><td>If the operation succeeded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OS_RETURN_CODE_QUERY_FAILED</em>&nbsp;</td><td>If the operation failed</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd><b>Unix:</b> <br>
 The processId is irrelevant as it is only applicable on the current process. <br>
 On Unix system, memory can only be queried for the current process.<br>
 The given pid is expected to be that of the current process. Hence the behavior of this function in case 'processId' is not of the current process is not defined.<br>
 <b>Windows:</b> <br>
 Windows supports memory query on a different process memory space.</dd></dl>
<dl class="user" compact><dt><b>Availability:</b></dt><dd><b>O/S</b>: Windows, Linux &amp; OS X* <br>
 <b>CPU:</b> All <br>
 </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Thu Feb 2 22:00:24 2017 for PinCRT by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
